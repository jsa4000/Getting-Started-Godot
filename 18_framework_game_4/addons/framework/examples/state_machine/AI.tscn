[gd_scene load_steps=13 format=2]

[ext_resource path="res://addons/framework/examples/common/Character.tscn" type="PackedScene" id=1]
[ext_resource path="res://addons/framework/blackboard/BlackboardRepository.gd" type="Script" id=2]
[ext_resource path="res://addons/framework/examples/state_machine/Return.gd" type="Script" id=3]
[ext_resource path="res://addons/framework/state_machine/StateMachine.gd" type="Script" id=4]
[ext_resource path="res://addons/framework/examples/state_machine/CheckForTargetNegate.gd" type="Script" id=5]
[ext_resource path="res://addons/framework/examples/state_machine/Idle.gd" type="Script" id=6]
[ext_resource path="res://addons/framework/examples/state_machine/CheckForTarget.gd" type="Script" id=7]
[ext_resource path="res://addons/framework/examples/state_machine/Follow.gd" type="Script" id=8]
[ext_resource path="res://addons/framework/examples/state_machine/Initializer.gd" type="Script" id=9]
[ext_resource path="res://addons/framework/common/selections/SelectionByRepository.gd" type="Script" id=10]

[sub_resource type="Resource" id=1]
script = ExtResource( 10 )
repository_path = NodePath("../BlackboardRepository")
key_name = "player"

[sub_resource type="Resource" id=2]
script = ExtResource( 10 )
repository_path = NodePath("../BlackboardRepository")
key_name = "start_position"

[node name="Character" instance=ExtResource( 1 )]

[node name="Initializer" type="Node" parent="." index="2"]
script = ExtResource( 9 )
state_machine = NodePath("../StateMachine")
player = SubResource( 1 )
start_position = SubResource( 2 )

[node name="BlackboardRepository" type="Node" parent="." index="3"]
script = ExtResource( 2 )
data = {
"dummy": "dummy"
}

[node name="StateMachine" type="Node" parent="." index="4"]
script = ExtResource( 4 )
actor_path = NodePath("..")
data = {
"dummy": "dummy"
}

[node name="Idle" type="Node" parent="StateMachine" index="0"]
script = ExtResource( 6 )
state_name = "Idle"
start = true

[node name="ToFollow" type="Node" parent="StateMachine/Idle" index="0"]
script = ExtResource( 7 )
state_path = NodePath("../../Follow")
distance = 6.0

[node name="Follow" type="Node" parent="StateMachine" index="1"]
script = ExtResource( 8 )
state_name = "Follow"
distance = 1.5
move_speed = 0.5
lookat_speed = 2.0

[node name="ToReturn" type="Node" parent="StateMachine/Follow" index="0"]
script = ExtResource( 5 )
state_path = NodePath("../../Return")
distance = 6.0

[node name="Return" type="Node" parent="StateMachine" index="2"]
script = ExtResource( 3 )
state_name = "Return"
move_speed = 0.5

[node name="ToFollow" type="Node" parent="StateMachine/Return" index="0"]
script = ExtResource( 7 )
state_path = NodePath("../../Follow")
distance = 6.0

[node name="ToIdle" type="Node" parent="StateMachine/Return" index="1"]
script = ExtResource( 7 )
state_path = NodePath("../../Idle")
target = "start_position"
distance = 0.1
